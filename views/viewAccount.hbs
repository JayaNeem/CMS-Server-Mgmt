<br>
<input id="myInput" type="text" placeholder="Search..">&nbsp;&nbsp;&nbsp;&nbsp;
<label for="filters">Search by:</label>
<select id="filters" name="filters">
  <option value="none">None</option>
  <option value="upcoming">Upcoming expiry</option>
  <option value="currentMonth">Current month expiry</option>
</select>
<br><br>
<table class="table table-sm table-bordered">
  <thead class="thead-light">
    <tr>
      <th scope="col">Customer</th>
      <th scope="col">Domain Name</th>
      <th scope="col">Plan</th>
      <th scope="col">Domain taken?</th>
      <th scope="col">Register Date</th>
      <th scope="col">Time Period</th>
      <th scope="col">Expiry Date</th>
      <th scope="col">Domain Charges</th>
      <th scope="col">Hosting Charges</th>
      <th scope="col">Total Charges</th>
      <th scope="col">Actions</th>
    </tr>
  </thead>
  <tbody id="myTable">
  </tbody>
</table>
<script>
$(document).ready(function(){
  $("#myInput").on("keyup", function() {
    var value = $(this).val().toLowerCase();
    $("#myTable tr").filter(function() {
        console.log($(this).text());
        $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
    });
  });
  var filterBy;
  function setAllRows() {
    $.ajax({
      url: 'getMonthRows',
      data: 'filter=none',
      type: 'get',
      success: (response) => {
        let data = '';
        for (var i = 0; i < response.length; i++) {
          data = data + "<tr>" +
                          "<td>" + response[i].cname + "</td>" +
                          "<td>" + response[i].domain_name + "</td>" +
                          "<td>" + response[i].name + "</td>" +
                          "<td>" + response[i].domain_taken + "</td>" +
                          "<td>" + response[i].register_date + "</td>" +
                          "<td>" + response[i].time_period + "</td>" +
                          "<td>" + response[i].expiry_date + "</td>" +
                          "<td>" + response[i].domain_charges + "</td>" +
                          "<td>" + response[i].charges + "</td>" +
                          "<td>" + response[i].total_charges + "</td>" +
                          "<td><a href='/editAccount?id={{id}}'><i class='fa fa-pencil fa-lg' aria-hidden='true'></i></a>&nbsp<a href='/deleteAccount?id={{id}}'><i class='fa fa-trash fa-lg' aria-hidden='true'></i></a></td>"
                        "</tr>";
        }
        $('#myTable').html(data);
      }
    });
  }
  setAllRows();
  $("#filters").change(function() {
    filterBy = $("#filters").val();
    if (filterBy == 'none')
      setAllRows();
    $.ajax({
      url: 'getMonthRows',
      data: 'filter=' +filterBy,
      type: 'get',
      success: (response) => {
        let data = '';
        for (var i = 0; i < response.length; i++) {
          data = data + "<tr>" +
                          "<td>" + response[i].cname + "</td>" +
                          "<td>" + response[i].domain_name + "</td>" +
                          "<td>" + response[i].name + "</td>" +
                          "<td>" + response[i].domain_taken + "</td>" +
                          "<td>" + response[i].register_date + "</td>" +
                          "<td>" + response[i].time_period + "</td>" +
                          "<td>" + response[i].expiry_date + "</td>" +
                          "<td>" + response[i].domain_charges + "</td>" +
                          "<td>" + response[i].charges + "</td>" +
                          "<td>" + response[i].total_charges + "</td>" +
                          "<td><a href='/editAccount?id={{id}}'><i class='fa fa-pencil fa-lg' aria-hidden='true'></i></a>&nbsp<a href='/deleteAccount?id={{id}}'><i class='fa fa-trash fa-lg' aria-hidden='true'></i></a></td>"
                        "</tr>";
        }
        $('#myTable').html(data);
      }
    });
  });
});
</script>